{% extends 'a2note/layout.html' %}
{% load static %}

{% load i18n %}
{% get_current_language as LANGUAGE_CODE %}

{% block title %}
  a2note.ninja
{% endblock %}

{% block body %}
  <div class="container my-container p-5">
    {% if user.is_authenticated %}
    <script src="{% static 'a2note/index.js' %}"></script>

    <h1 class="intro-0">{% translate 'Hi,' %} {{ user.username }}</h1>
    <h2>{% translate "It's good to see you again!" %}</h2>
    <h4>{% translate "Here you can create new to-do lists and shopping lists and see the lists you've already created." %}</h4>

    <hr>

    <div class="row">
      <div class="col">
        <span class="material-icons-outlined d-inline" id="info-toggle">info</span>
      </div>
      <div class="w-100"></div>
      <div class="col hidden info-text">
        <p><strong>To-do list:</strong> {% translate 'To-do lists are a great way to put your commitments and important things pen to paper. That way you can see your progress.' %}</p>
        <p><strong>Shopping list:</strong> {% translate "With a shopping list it's easy to remember everything you have to buy. You can see progress as you put items in the cart and everything falls into its own category." %}</p>
      </div>
    </div>

    <div class="row">
      <div class="col-6 p-1">
        <a href="{% url 'new_todolist_view' %}" class="text-reset text-decoration-none">
          <div class="card newList-card rounded">
            <div class="card-body">
              <h5 class="flex-text card-title">To-do list <span class="material-icons-outlined">edit</span></h5>
            </div>
          </div>
        </a>
      </div>

      <div class="col-6 p-1">
        <a href="{% url 'new_shoplist_view' %}" class="text-reset text-decoration-none">
          <div class="card newList-card rounded">
            <div class="card-body">
              <h5 class="flex-text card-title">Shopping list <span class="material-icons-outlined">edit</span></h5>
            </div>
          </div>
        </a>
      </div>

    </div>

    <hr>

    <h4>{% translate "Your lists" %} ( {{ total }} )</h4>
    <div class="row thumbnail-div rounded">
      {% for list in lists %}
      <div class="col-lg-3 col-12 p-1">
        <div class="card list-thumbnail rounded shadow-sm">
          <h5 class="card-header">
            {% if list.element_type == 'SHOPLIST' %}
            <span class="material-icons-outlined">shopping_cart</span>
            {% else %}
            <span class="material-icons-outlined">checklist_rtl</span>
            {% endif %}
            {{ list.element_id }}</h5>
          <div class="card-body">
            <p class="card-text"><span class="material-icons-outlined">event</span> {{ list.creation_timestamp }}</p>
            <p class="card-text">{% translate 'Items' %}: {{ list.length }}</p>
            <p class="card-text"><a href="{% url 'list_editor' list.element_id %}"><span class="material-icons-outlined">edit</span></a></p>
          </div>
        </div>
      </div>
      <br>
      {% empty %}
      <p><span class="material-icons-outlined">sentiment_dissatisfied</span> {% translate "Oh no! It's all sad and empty here...go make some lists." %}</p>
      {% endfor %}
    </div>


    {% else %}
    <br>
    <h1 class="intro-0" align="center">{% translate 'Welcome to a<sub>2</sub>note.ninja!' %}</h1>
    <br>
    <br>
    <div class="row">

      <div class="col-lg-6 col-12">
        <div class="row">
          <h3 class="intro-0">{% translate 'Without an account' %}</h3>
        </div>
        <div class="row intro-1">
          <div class="col mb-3">
            {% translate 'You can use a<sub>2</sub>note.ninja whithout the need to register.' %}
          </div>
          <div class="w-100"></div>
          <div class="col mb-3">
            {% translate 'Save up to <strong>1 to-do list</strong> and <strong>1 shopping list</strong>.' %}
          </div>
          <div class="w-100"></div>
          <div class="col mb-3">
            {% translate 'Everything is saved locally on your browser so you can modify and consult your lists any time you want.' %}
          </div>
        </div>
      </div>

      <div class="col-lg-6 col-12">
        <div class="row">
          <h3 class="intro-0">{% translate 'With a free account (coming soon)' %}</h3>
        </div>
        <div class="row intro-2">
          <div class="col mb-3">
            {% translate 'Register a free account and unlock new ninja techniques!' %}
          </div>
          <div class="w-100"></div>
          <div class="col mb-3">
            {% translate 'Create multiple To-do lists and shopping lists.' %}
          </div>
          <div class="w-100"></div>
          <div class="col mb-3">
            {% translate 'Everything will be saved in the cloud so you can access it across multiple devices.' %}
          </div>
          <div class="w-100"></div>
          <div class="col mb-3">
            <strong>{% translate 'Also:' %}</strong>
          </div>
          <div class="w-100"></div>
          <div class="col mb-3">
            {% blocktranslate %}Share your <strong>To-do lists</strong> and <strong>shopping lists</strong> like a ninja!<br>
            You can share with everyone, even with someone who doesn't have an account on a<sub>2</sub>note.ninja<br>{% endblocktranslate %}
          </div>
        </div>
      </div>

    </div>
    {% endif %}
  </div>

{% endblock %}
